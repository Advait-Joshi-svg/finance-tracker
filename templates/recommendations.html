{% extends "base.html" %}

{% block content %}
<div class="recommendations-container">
    <h2>Recommended Budgets for Next Month</h2>

    <table class="recommendations-table">
        <thead>
            <tr>
                <th>Category</th>
                <th>Suggested Budget</th>
            </tr>
        </thead>
        <tbody>
            {% for line in recommendations.split('\n') %}
                {% if ':' in line %}
                    {% set parts = line.split(':') %}
                    <tr>
                        <td>{{ parts[0].strip() }}</td>
                        <td>${{ parts[1].strip().replace('$', '') }}</td>
                    </tr>
                {% endif %}
            {% endfor %}
        </tbody>
    </table>

    <form method="POST" action="{{ url_for('accept_recommendations') }}">
        <input type="hidden" name="recommendations_text" value="{{ recommendations }}">
        <button type="submit" class="save-button">Accept Recommended Budgets</button>
    </form>
</div>

<style>
.recommendations-container {
    max-width: 700px;
    margin: 60px auto;
    padding: 20px;
}

.recommendations-container h2 {
    text-align: center;
    margin-bottom: 30px;
}

.recommendations-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 30px;
}

.recommendations-table th, .recommendations-table td {
    padding: 12px 15px;
    border: 1px solid #ddd;
    text-align: left;
}

.recommendations-table th {
    background-color: #2c3e50;
    color: white;
}

.recommendations-table tr:nth-child(even) {
    background-color: #f9f9f9;
}

.save-button {
    background-color: #28a745;
    color: white;
    padding: 12px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1rem;
}

.save-button:hover {
    background-color: #218838;
}
</style>
{% endblock %}
